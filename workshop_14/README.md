# Практична робота 14
## Оптимізація зображень за допомогою [Squoosh](https://squoosh.app/)

### Мета:   
* Ознайомитися із методами стиснення зображень та їхнім впливом на якість. 
* Навчитися визначати оптимальний баланс між якістю та розміром файлу.
* Ознайомитися із різними типами стиснення: без втрат (lossless) та з втратами (lossy).
* Дослідити вплив зміни розміру на якість зображення та вагу файлу.
* Навчитися адаптувати зображення для різних цільових застосувань:
  - Веб (оптимізація для швидкого завантаження).
  - Мобільні пристрої (зменшені розміри, ефективне стиснення).
  - Retina-дисплеї (2x, 3x версії для збереження якості).

### Теоретична частина 
Squoosh - це веб-додаток від Google для стиснення, конвертації та оптимізації зображень без встановлення додаткового програмного забезпечення. Усі операції виконуються прямо в браузері, що робить процес швидким та безпечним, оскільки файли не надсилаються на сервер.

Після завантаження зображення Squoosh автоматично підключає потрібні кодеки (JPEG, MozJPEG, WebP, AVIF, OxiPNG тощо), реалізовані через WebAssembly. Завдяки цьому обробка відбувається локально: інструмент дозволяє застосовувати стиснення, змінювати розмір, регулювати якість та конвертувати між форматами. Для зручності реалізовано порівняння «до/після» за допомогою інтерактивного повзунка, що дозволяє оцінити зміни перед збереженням оптимізованого файлу.

Squoosh підтримує різні типи стиснення, які можна розділити на дві основні категорії:
* Стиснення без втрати (lossless) - Зберігає 100% деталізаціїта якості, що робить його ідеальним для графіки, іконок та зображень, де важлива абсолютна точність кольорів.
  - PNG
  - WebP (lossless)
* Стиснення з втратою (lossy) - Дозволяє значно зменшити розмір файлу за рахунок часткової втрати якості.
  - MozJPEG
  - WebP (lossy)
  - AVIF

Одним із найефективніших методів зменшення ваги файлу є зменшення його роздільності (кількості пікселів). Хоча це може вплинути на чіткість та деталізацію, розмір зображення підбирається відповідно до його призначення (наприклад, для прев'ю чи повноекранного відображення).

Дисплеї з високою щільністю пікселів (т.зв. Retina-дисплеї) потребують зображень збільшеної роздільності (2x, 3x) для збереження високої чіткості та деталізації графічних елементів. У веб-розробці для адаптації різних версій зображень під різні пристрої використовується HTML-атрибут srcset. Він дозволяє браузеру автоматично вибрати найбільш відповідний файл залежно від роздільності екрана та щільності пікселів пристрою.

### Хід роботи 
**Аналіз вихідних файлів**
* Фотографія

  ![Фотографія](images/photo.png)
  Початковий розмір: 1517 х 1080  
  Формат: PNG  
  Вага файлу: 2.4 Мб  

* Скріншот
  
  ![Скріншот](images/screenshot.png)
  Початковий розмір: 1919 х 1019  
  Формат: PNG  
  Вага файлу: 199 Кб  

* Графічне зображення з текстом
  
  ![Графічне зображення з текстом](images/logo.jpg)
  Початковий розмір: 1165 х 612  
  Формат: JPEG  
  Вага файлу: 218.5 Кб  

**Стиснення без втрати якості (lossless)**
1. PNG (lossless)
   * Фотографія

     ![Фотографія](images/photo_1.png)
     Після перетворення, вага зображення зросла до 3.03 Мб.  
     Якість зображення залишилася незмінною.
     
   * Скріншот
   
     ![Скріншот](images/screenshot_1.png)
     Після перетворення, вага зображення зросла до 231 Кб.  
     Якість зображення залишилася незмінною.
     
2. WebP (lossless)
   * Фотографія

     ![Фотографія](images/photo_2.png)
     Після перетворення, вага зображення зменшилася до 1.48 Мб.  
     Якість зображення залишилася незмінною.  

    * Скріншот

      ![Скріншот](images/screenshot_2.png)
      Після перетворення, вага зображення зменшилася до 55 Кб.
      Якість зображення залишилася незмінною.
   
**Стиснення з втратою якості (lossy)**
1. MozJPEG
   * Фотографія

     ![Фотографія](images/photo_3.png)
     Після стиснення на рівні якості 100%, вага зображення зменшилася до 1.16 Мб.
     
     ![Фотографія](images/photo_4.png)
     Після стиснення на рівні якості 75%, вага зображення зменшилася до 88.2 Кб.
     
     ![Фотографія](images/photo_5.png)
     Після стиснення на рівні якості 50%, вага зображення зменшилася до 52.1 Кб.

     ![Фотографія](images/photo_6.png)
     На мою думку, мінімальний рівень якості, при якому зображення залишається прийнятним - 35%. Оскільки дозволяє досягти максимальної економії обсягу файлу (40.6 Кб), зберігаючи при цьому достатній рівень візуальної прийнятності та деталізації для перегляду на вебресурсах.

    * Скріншот

     ![Скріншот](images/screenshot_3.png)
     Після стиснення на рівні якості 100%, вага зображення зросла до 333 Кб.
     
     ![Скріншот](images/screenshot_4.png)
     Після стиснення на рівні якості 75%, вага зображення зменшилася до 100 Кб.
     
     ![Скріншот](images/screenshot_5.png)
     Після стиснення на рівні якості 50%, вага зображення зменшилася до 72 Кб.

     ![Скріншот](images/screenshot_6.png)
     На мою думку, мінімальний рівень якості, при якому зображення залишається прийнятним - 30%. Це рівень, де скорочення розміру файлу залишається максимальним (54.1 Кб) при мінімально допустимому погіршенні візуальної якості.
   
3. WebP (lossy)
   * Фотографія

     ![Фотографія](images/photo_7.png)
     Після стиснення на рівні якості 100%, вага зображення зменшилася до 567 Кб.
     
     ![Фотографія](images/photo_8.png)
     Після стиснення на рівні якості 75%, вага зображення зменшилася до 67.7 Кб.
     
     ![Фотографія](images/photo_9.png)
     Після стиснення на рівні якості 50%, вага зображення зменшилася до 43.3 Кб.

     ![Фотографія](images/photo_10.png)
     На мою думку, мінімальний рівень якості, при якому зображення залишається прийнятним - 40%. Такий показник дає змогу досягти максимальної економії обсягу файлу (37.1 Кб), оскільки подальше зниження якості вже призводить до надмірного погіршення деталей та появи помітних артефактів, які візуально неприйнятні для користувача.

    * Скріншот

     ![Скріншот](images/screenshot_7.png)
     Після стиснення на рівні якості 100%, вага зображення зменшилася до 150 Кб.
     
     ![Скріншот](images/screenshot_8.png)
     Після стиснення на рівні якості 75%, вага зображення зменшилася до 79 Кб.
     
     ![Скріншот](images/screenshot_9.png)
     Після стиснення на рівні якості 50%, вага зображення зменшилася до 68.8 Кб.

     ![Скріншот](images/screenshot_10.png)
     На мою думку, мінімальний рівень якості, при якому зображення залишається прийнятним - 10.3%. Він забезпечує ефективну оптимізацію, коли файл стає набагато меншим, проте залишається достатньо деталізованим.
   
5. AVIF
   * Фотографія

     ![Фотографія](images/photo_11.png)
     Після стиснення на рівні якості 99%, вага зображення зменшилася до 721 Кб.
     
     ![Фотографія](images/photo_12.png)
     Після стиснення на рівні якості 75%, вага зображення зменшилася до 135 Кб.
     
     ![Фотографія](images/photo_13.png)
     Після стиснення на рівні якості 50%, вага зображення зменшилася до 29.8 Кб.

     ![Фотографія](images/photo_14.png)
     На мою думку, мінімальний рівень якості, при якому зображення залишається прийнятним - 28%. Вона дозволяє досягти значного зменшення ваги файлу (13.6 Кб), водночас зберігаючи деталізацію на рівні, достатньому для комфортного сприйняття кінцевим користувачем.
     
   * Скріншот

     ![Скріншот](images/screenshot_11.png)
     Після стиснення на рівні якості 99%, вага зображення зменшилася до 153 Кб.
     
     ![Скріншот](images/screenshot_12.png)
     Після стиснення на рівні якості 75%, вага зображення зменшилася до 86.9 Кб.
     
     ![Скріншот](images/screenshot_13.png)
     Після стиснення на рівні якості 50%, вага зображення зменшилася до 62.1 Кб.

     ![Скріншот](images/screenshot_14.png)
     На мою думку, мінімальний рівень якості, при якому зображення залишається прийнятним - 20%. Оскільки це та межа, за якою економія обсягу файлу стає найбільшою (31.6 Кб), а візуальні втрати залишаються контрольованими.
   
